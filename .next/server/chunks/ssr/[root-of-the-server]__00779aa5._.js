module.exports = {

"[project]/.next-internal/server/app/page/actions.js [app-rsc] (server actions loader, ecmascript)": ((__turbopack_context__) => {

var { m: module, e: exports } = __turbopack_context__;
{
}}),
"[project]/app/layout.tsx [app-rsc] (ecmascript, Next.js Server Component)": ((__turbopack_context__) => {

__turbopack_context__.n(__turbopack_context__.i("[project]/app/layout.tsx [app-rsc] (ecmascript)"));
}),
"[externals]/stream [external] (stream, cjs)": ((__turbopack_context__) => {

var { m: module, e: exports } = __turbopack_context__;
{
const mod = __turbopack_context__.x("stream", () => require("stream"));

module.exports = mod;
}}),
"[externals]/http [external] (http, cjs)": ((__turbopack_context__) => {

var { m: module, e: exports } = __turbopack_context__;
{
const mod = __turbopack_context__.x("http", () => require("http"));

module.exports = mod;
}}),
"[externals]/url [external] (url, cjs)": ((__turbopack_context__) => {

var { m: module, e: exports } = __turbopack_context__;
{
const mod = __turbopack_context__.x("url", () => require("url"));

module.exports = mod;
}}),
"[externals]/punycode [external] (punycode, cjs)": ((__turbopack_context__) => {

var { m: module, e: exports } = __turbopack_context__;
{
const mod = __turbopack_context__.x("punycode", () => require("punycode"));

module.exports = mod;
}}),
"[externals]/https [external] (https, cjs)": ((__turbopack_context__) => {

var { m: module, e: exports } = __turbopack_context__;
{
const mod = __turbopack_context__.x("https", () => require("https"));

module.exports = mod;
}}),
"[externals]/zlib [external] (zlib, cjs)": ((__turbopack_context__) => {

var { m: module, e: exports } = __turbopack_context__;
{
const mod = __turbopack_context__.x("zlib", () => require("zlib"));

module.exports = mod;
}}),
"[project]/lib/supabaseServer.ts [app-rsc] (ecmascript)": ((__turbopack_context__) => {
"use strict";

// lib/supabaseServer.ts
__turbopack_context__.s({
    "supabaseServer": ()=>supabaseServer
});
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$15$2e$4$2e$6_react$2d$dom$40$19$2e$1$2e$0_react$40$19$2e$1$2e$0_$5f$react$40$19$2e$1$2e$0$2f$node_modules$2f$next$2f$headers$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/next@15.4.6_react-dom@19.1.0_react@19.1.0__react@19.1.0/node_modules/next/headers.js [app-rsc] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f40$supabase$2b$ssr$40$0$2e$6$2e$1_$40$supabase$2b$supabase$2d$js$40$2$2e$54$2e$0$2f$node_modules$2f40$supabase$2f$ssr$2f$dist$2f$module$2f$index$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__$3c$module__evaluation$3e$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/@supabase+ssr@0.6.1_@supabase+supabase-js@2.54.0/node_modules/@supabase/ssr/dist/module/index.js [app-rsc] (ecmascript) <module evaluation>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f40$supabase$2b$ssr$40$0$2e$6$2e$1_$40$supabase$2b$supabase$2d$js$40$2$2e$54$2e$0$2f$node_modules$2f40$supabase$2f$ssr$2f$dist$2f$module$2f$createServerClient$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/@supabase+ssr@0.6.1_@supabase+supabase-js@2.54.0/node_modules/@supabase/ssr/dist/module/createServerClient.js [app-rsc] (ecmascript)");
;
;
async function supabaseServer() {
    const cookieStore = await (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$15$2e$4$2e$6_react$2d$dom$40$19$2e$1$2e$0_react$40$19$2e$1$2e$0_$5f$react$40$19$2e$1$2e$0$2f$node_modules$2f$next$2f$headers$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["cookies"])();
    return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f40$supabase$2b$ssr$40$0$2e$6$2e$1_$40$supabase$2b$supabase$2d$js$40$2$2e$54$2e$0$2f$node_modules$2f40$supabase$2f$ssr$2f$dist$2f$module$2f$createServerClient$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["createServerClient"])(("TURBOPACK compile-time value", "https://rnlflqfmmtobyyihjiyu.supabase.co"), ("TURBOPACK compile-time value", "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJubGZscWZtbXRvYnl5aWhqaXl1Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTQ2NzE4NDgsImV4cCI6MjA3MDI0Nzg0OH0.w32YxtrReU3GoVn2mehYtFghasj0hdqrI2CLbze_oBY"), {
        cookies: {
            get (name) {
                return cookieStore.get(name)?.value;
            },
            set (name, value, options) {
                try {
                    cookieStore.set(name, value, options);
                } catch  {
                // The `set` method was called from a Server Component.
                // This can be ignored if you have middleware refreshing
                // user sessions.
                }
            },
            remove (name, options) {
                try {
                    cookieStore.set(name, '', {
                        ...options,
                        maxAge: 0
                    });
                } catch  {
                // The `remove` method was called from a Server Component.
                // This can be ignored if you have middleware refreshing
                // user sessions.
                }
            }
        }
    });
}
}),
"[project]/components/flowers/flower-card.tsx [app-rsc] (client reference proxy) <module evaluation>": ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s({
    "FlowerCard": ()=>FlowerCard
});
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$15$2e$4$2e$6_react$2d$dom$40$19$2e$1$2e$0_react$40$19$2e$1$2e$0_$5f$react$40$19$2e$1$2e$0$2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$rsc$2f$react$2d$server$2d$dom$2d$turbopack$2d$server$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/next@15.4.6_react-dom@19.1.0_react@19.1.0__react@19.1.0/node_modules/next/dist/server/route-modules/app-page/vendored/rsc/react-server-dom-turbopack-server.js [app-rsc] (ecmascript)");
;
const FlowerCard = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$15$2e$4$2e$6_react$2d$dom$40$19$2e$1$2e$0_react$40$19$2e$1$2e$0_$5f$react$40$19$2e$1$2e$0$2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$rsc$2f$react$2d$server$2d$dom$2d$turbopack$2d$server$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["registerClientReference"])(function() {
    throw new Error("Attempted to call FlowerCard() from the server but FlowerCard is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.");
}, "[project]/components/flowers/flower-card.tsx <module evaluation>", "FlowerCard");
}),
"[project]/components/flowers/flower-card.tsx [app-rsc] (client reference proxy)": ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s({
    "FlowerCard": ()=>FlowerCard
});
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$15$2e$4$2e$6_react$2d$dom$40$19$2e$1$2e$0_react$40$19$2e$1$2e$0_$5f$react$40$19$2e$1$2e$0$2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$rsc$2f$react$2d$server$2d$dom$2d$turbopack$2d$server$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/next@15.4.6_react-dom@19.1.0_react@19.1.0__react@19.1.0/node_modules/next/dist/server/route-modules/app-page/vendored/rsc/react-server-dom-turbopack-server.js [app-rsc] (ecmascript)");
;
const FlowerCard = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$15$2e$4$2e$6_react$2d$dom$40$19$2e$1$2e$0_react$40$19$2e$1$2e$0_$5f$react$40$19$2e$1$2e$0$2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$rsc$2f$react$2d$server$2d$dom$2d$turbopack$2d$server$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["registerClientReference"])(function() {
    throw new Error("Attempted to call FlowerCard() from the server but FlowerCard is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.");
}, "[project]/components/flowers/flower-card.tsx", "FlowerCard");
}),
"[project]/components/flowers/flower-card.tsx [app-rsc] (ecmascript)": ((__turbopack_context__) => {
"use strict";

var __TURBOPACK__imported__module__$5b$project$5d2f$components$2f$flowers$2f$flower$2d$card$2e$tsx__$5b$app$2d$rsc$5d$__$28$client__reference__proxy$29$__$3c$module__evaluation$3e$__ = __turbopack_context__.i("[project]/components/flowers/flower-card.tsx [app-rsc] (client reference proxy) <module evaluation>");
var __TURBOPACK__imported__module__$5b$project$5d2f$components$2f$flowers$2f$flower$2d$card$2e$tsx__$5b$app$2d$rsc$5d$__$28$client__reference__proxy$29$__ = __turbopack_context__.i("[project]/components/flowers/flower-card.tsx [app-rsc] (client reference proxy)");
;
__turbopack_context__.n(__TURBOPACK__imported__module__$5b$project$5d2f$components$2f$flowers$2f$flower$2d$card$2e$tsx__$5b$app$2d$rsc$5d$__$28$client__reference__proxy$29$__);
}),
"[project]/components/search/main-page-with-search.tsx [app-rsc] (client reference proxy) <module evaluation>": ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s({
    "MainPageWithSearch": ()=>MainPageWithSearch
});
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$15$2e$4$2e$6_react$2d$dom$40$19$2e$1$2e$0_react$40$19$2e$1$2e$0_$5f$react$40$19$2e$1$2e$0$2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$rsc$2f$react$2d$server$2d$dom$2d$turbopack$2d$server$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/next@15.4.6_react-dom@19.1.0_react@19.1.0__react@19.1.0/node_modules/next/dist/server/route-modules/app-page/vendored/rsc/react-server-dom-turbopack-server.js [app-rsc] (ecmascript)");
;
const MainPageWithSearch = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$15$2e$4$2e$6_react$2d$dom$40$19$2e$1$2e$0_react$40$19$2e$1$2e$0_$5f$react$40$19$2e$1$2e$0$2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$rsc$2f$react$2d$server$2d$dom$2d$turbopack$2d$server$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["registerClientReference"])(function() {
    throw new Error("Attempted to call MainPageWithSearch() from the server but MainPageWithSearch is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.");
}, "[project]/components/search/main-page-with-search.tsx <module evaluation>", "MainPageWithSearch");
}),
"[project]/components/search/main-page-with-search.tsx [app-rsc] (client reference proxy)": ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s({
    "MainPageWithSearch": ()=>MainPageWithSearch
});
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$15$2e$4$2e$6_react$2d$dom$40$19$2e$1$2e$0_react$40$19$2e$1$2e$0_$5f$react$40$19$2e$1$2e$0$2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$rsc$2f$react$2d$server$2d$dom$2d$turbopack$2d$server$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/next@15.4.6_react-dom@19.1.0_react@19.1.0__react@19.1.0/node_modules/next/dist/server/route-modules/app-page/vendored/rsc/react-server-dom-turbopack-server.js [app-rsc] (ecmascript)");
;
const MainPageWithSearch = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$15$2e$4$2e$6_react$2d$dom$40$19$2e$1$2e$0_react$40$19$2e$1$2e$0_$5f$react$40$19$2e$1$2e$0$2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$rsc$2f$react$2d$server$2d$dom$2d$turbopack$2d$server$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["registerClientReference"])(function() {
    throw new Error("Attempted to call MainPageWithSearch() from the server but MainPageWithSearch is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.");
}, "[project]/components/search/main-page-with-search.tsx", "MainPageWithSearch");
}),
"[project]/components/search/main-page-with-search.tsx [app-rsc] (ecmascript)": ((__turbopack_context__) => {
"use strict";

var __TURBOPACK__imported__module__$5b$project$5d2f$components$2f$search$2f$main$2d$page$2d$with$2d$search$2e$tsx__$5b$app$2d$rsc$5d$__$28$client__reference__proxy$29$__$3c$module__evaluation$3e$__ = __turbopack_context__.i("[project]/components/search/main-page-with-search.tsx [app-rsc] (client reference proxy) <module evaluation>");
var __TURBOPACK__imported__module__$5b$project$5d2f$components$2f$search$2f$main$2d$page$2d$with$2d$search$2e$tsx__$5b$app$2d$rsc$5d$__$28$client__reference__proxy$29$__ = __turbopack_context__.i("[project]/components/search/main-page-with-search.tsx [app-rsc] (client reference proxy)");
;
__turbopack_context__.n(__TURBOPACK__imported__module__$5b$project$5d2f$components$2f$search$2f$main$2d$page$2d$with$2d$search$2e$tsx__$5b$app$2d$rsc$5d$__$28$client__reference__proxy$29$__);
}),
"[project]/app/page.tsx [app-rsc] (ecmascript)": ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s({
    "default": ()=>Page
});
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$15$2e$4$2e$6_react$2d$dom$40$19$2e$1$2e$0_react$40$19$2e$1$2e$0_$5f$react$40$19$2e$1$2e$0$2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$rsc$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/next@15.4.6_react-dom@19.1.0_react@19.1.0__react@19.1.0/node_modules/next/dist/server/route-modules/app-page/vendored/rsc/react-jsx-dev-runtime.js [app-rsc] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$lib$2f$supabaseServer$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/lib/supabaseServer.ts [app-rsc] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$components$2f$flowers$2f$flower$2d$card$2e$tsx__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/components/flowers/flower-card.tsx [app-rsc] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$components$2f$search$2f$main$2d$page$2d$with$2d$search$2e$tsx__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/components/search/main-page-with-search.tsx [app-rsc] (ecmascript)");
;
;
;
;
async function Page({ searchParams }) {
    const resolvedSearchParams = await searchParams;
    const q = (resolvedSearchParams?.q ?? '').trim();
    // Extract filter parameters
    const filters = {
        cat_code: parseInt(resolvedSearchParams?.cat_code || '0'),
        height_code: parseInt(resolvedSearchParams?.height_code || '0'),
        bloom_code: parseInt(resolvedSearchParams?.bloom_code || '0'),
        moist_code: parseInt(resolvedSearchParams?.moist_code || '0'),
        sun_code: parseInt(resolvedSearchParams?.sun_code || '0'),
        wild_code: parseInt(resolvedSearchParams?.wild_code || '0'),
        soil_code: parseInt(resolvedSearchParams?.soil_code || '0'),
        deer_code: parseInt(resolvedSearchParams?.deer_code || '0')
    };
    const supabase = await (0, __TURBOPACK__imported__module__$5b$project$5d2f$lib$2f$supabaseServer$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["supabaseServer"])();
    // Helper function to expand compound search codes like your old SQLite app
    async function getExpandedCodes(tableName, codeField, searchField, selectedCode) {
        if (selectedCode === 0) return [];
        const { data } = await supabase.from(tableName).select(`${codeField}, ${searchField}`).eq(codeField, selectedCode).single();
        if (!data || !data[searchField]) {
            // No compound search, just return the selected code
            return [
                selectedCode
            ];
        }
        // Parse semicolon-separated search codes like "1;2;3"
        const searchValue = data[searchField];
        return searchValue.split(';').map((code)=>parseInt(code.trim())).filter((code)=>!isNaN(code));
    }
    // Helper function to get all codes that match text search (including compound)
    async function getTextSearchCodes(tableName, codeField, displayField, searchField, searchTerm) {
        const { data } = await supabase.from(tableName).select(`${codeField}, ${searchField}`).ilike(displayField, `%${searchTerm}%`);
        if (!data || data.length === 0) return [];
        const allCodes = new Set();
        for (const row of data){
            const searchValue = row[searchField];
            const codeValue = row[codeField];
            if (searchValue && searchValue.trim()) {
                // Has compound search - expand it
                const expandedCodes = searchValue.split(';').map((code)=>parseInt(code.trim())).filter((code)=>!isNaN(code));
                expandedCodes.forEach((code)=>allCodes.add(code));
            } else {
                // No compound search, just add the direct code
                allCodes.add(codeValue);
            }
        }
        return Array.from(allCodes);
    }
    let query = supabase.from('flowers').select('*').order('latin', {
        ascending: true
    });
    // Apply compound filter logic first (like your old app's dropdown selections)
    const [moistCodes, sunCodes, wildCodes, soilCodes, deerCodes] = await Promise.all([
        getExpandedCodes('moisture', 'moist_code', 'moist_search', filters.moist_code),
        getExpandedCodes('sun', 'sun_code', 'sun_search', filters.sun_code),
        getExpandedCodes('wildlife', 'wild_code', 'wildlife_search', filters.wild_code),
        getExpandedCodes('soil', 'soil_code', 'soil_search', filters.soil_code),
        getExpandedCodes('deer', 'deer_code', 'deer_search', filters.deer_code)
    ]);
    if (moistCodes.length > 0) {
        query = query.in('moist_code', moistCodes);
    }
    if (sunCodes.length > 0) {
        query = query.in('sun_code', sunCodes);
    }
    if (wildCodes.length > 0) {
        query = query.in('wild_code', wildCodes);
    }
    if (soilCodes.length > 0) {
        query = query.in('soil_code', soilCodes);
    }
    if (deerCodes.length > 0) {
        query = query.in('deer_code', deerCodes);
    }
    // Apply simple filters (no compound search needed)
    if (filters.cat_code > 0) {
        query = query.eq('cat_code', filters.cat_code);
    }
    if (filters.height_code > 0) {
        query = query.eq('height_code', filters.height_code);
    }
    if (filters.bloom_code > 0) {
        query = query.eq('bloom_code', filters.bloom_code);
    }
    // Apply text search with compound lookup matching
    if (q) {
        const [textMoistCodes, textSunCodes, textWildCodes, textSoilCodes, textDeerCodes, textBloomCodes, textHeightCodes, textCatCodes] = await Promise.all([
            getTextSearchCodes('moisture', 'moist_code', 'moist_display', 'moist_search', q),
            getTextSearchCodes('sun', 'sun_code', 'sun_display', 'sun_search', q),
            getTextSearchCodes('wildlife', 'wild_code', 'wildlife_display', 'wildlife_search', q),
            getTextSearchCodes('soil', 'soil_code', 'soil_display', 'soil_search', q),
            getTextSearchCodes('deer', 'deer_code', 'deer_display', 'deer_search', q),
            supabase.from('bloom').select('bloom_code').ilike('bloom_display', `%${q}%`).then((res)=>(res.data || []).map((b)=>b.bloom_code)),
            supabase.from('height').select('height_code').ilike('height_display', `%${q}%`).then((res)=>(res.data || []).map((h)=>h.height_code)),
            supabase.from('categories').select('cat_code').ilike('cat_display', `%${q}%`).then((res)=>(res.data || []).map((c)=>c.cat_code))
        ]);
        // Create OR conditions for all search possibilities (like your old app)
        const conditions = [
            `latin.ilike.%${q}%`,
            `common.ilike.%${q}%`,
            `region.ilike.%${q}%`,
            `design_function.ilike.%${q}%`,
            `gardening_tips.ilike.%${q}%`,
            `wildlife_comments.ilike.%${q}%`,
            `ph.ilike.%${q}%`
        ];
        // Add compound lookup matches
        if (textMoistCodes.length > 0) {
            conditions.push(`moist_code.in.(${textMoistCodes.join(',')})`);
        }
        if (textSunCodes.length > 0) {
            conditions.push(`sun_code.in.(${textSunCodes.join(',')})`);
        }
        if (textWildCodes.length > 0) {
            conditions.push(`wild_code.in.(${textWildCodes.join(',')})`);
        }
        if (textSoilCodes.length > 0) {
            conditions.push(`soil_code.in.(${textSoilCodes.join(',')})`);
        }
        if (textDeerCodes.length > 0) {
            conditions.push(`deer_code.in.(${textDeerCodes.join(',')})`);
        }
        if (textBloomCodes.length > 0) {
            conditions.push(`bloom_code.in.(${textBloomCodes.join(',')})`);
        }
        if (textHeightCodes.length > 0) {
            conditions.push(`height_code.in.(${textHeightCodes.join(',')})`);
        }
        if (textCatCodes.length > 0) {
            conditions.push(`cat_code.in.(${textCatCodes.join(',')})`);
        }
        query = query.or(conditions.join(','));
    }
    const result = await query;
    const flowersData = result.data;
    if (result.error) {
        console.error('flowers query error:', result.error);
        return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$15$2e$4$2e$6_react$2d$dom$40$19$2e$1$2e$0_react$40$19$2e$1$2e$0_$5f$react$40$19$2e$1$2e$0$2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$rsc$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$components$2f$search$2f$main$2d$page$2d$with$2d$search$2e$tsx__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["MainPageWithSearch"], {
            searchQuery: q,
            children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$15$2e$4$2e$6_react$2d$dom$40$19$2e$1$2e$0_react$40$19$2e$1$2e$0_$5f$react$40$19$2e$1$2e$0$2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$rsc$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["jsxDEV"])("p", {
                className: "mt-6 rounded-lg border border-red-200 bg-red-50 p-3 text-red-700",
                children: "Failed to load flowers."
            }, void 0, false, {
                fileName: "[project]/app/page.tsx",
                lineNumber: 187,
                columnNumber: 9
            }, this)
        }, void 0, false, {
            fileName: "[project]/app/page.tsx",
            lineNumber: 186,
            columnNumber: 7
        }, this);
    }
    // Fetch lookup data for display names
    const [heightLookups, categoryLookups] = await Promise.all([
        supabase.from('height').select('height_code, height_display'),
        supabase.from('categories').select('cat_code, cat_display')
    ]);
    // Create lookup maps
    const heightMap = new Map((heightLookups.data || []).map((h)=>[
            h.height_code,
            h.height_display
        ]));
    const categoryMap = new Map((categoryLookups.data || []).map((c)=>[
            c.cat_code,
            c.cat_display
        ]));
    // Augment flowers with lookup data
    const flowers = (flowersData || []).map((flower)=>({
            ...flower,
            height: flower.height_code ? [
                {
                    height_display: heightMap.get(flower.height_code) || ''
                }
            ] : null,
            categories: flower.cat_code ? [
                {
                    cat_display: categoryMap.get(flower.cat_code) || ''
                }
            ] : null
        }));
    // Use the augmented flowers data
    const imagesBase = `${("TURBOPACK compile-time value", "https://rnlflqfmmtobyyihjiyu.supabase.co")}/storage/v1/object/public/flowers`;
    const iconsBase = `${("TURBOPACK compile-time value", "https://rnlflqfmmtobyyihjiyu.supabase.co")}/storage/v1/object/public/icons`;
    return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$15$2e$4$2e$6_react$2d$dom$40$19$2e$1$2e$0_react$40$19$2e$1$2e$0_$5f$react$40$19$2e$1$2e$0$2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$rsc$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$components$2f$search$2f$main$2d$page$2d$with$2d$search$2e$tsx__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["MainPageWithSearch"], {
        searchQuery: q,
        children: flowers.length === 0 ? /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$15$2e$4$2e$6_react$2d$dom$40$19$2e$1$2e$0_react$40$19$2e$1$2e$0_$5f$react$40$19$2e$1$2e$0$2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$rsc$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["jsxDEV"])("p", {
            className: "mt-6 text-sm text-gray-500",
            children: "No flowers found."
        }, void 0, false, {
            fileName: "[project]/app/page.tsx",
            lineNumber: 222,
            columnNumber: 9
        }, this) : /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$15$2e$4$2e$6_react$2d$dom$40$19$2e$1$2e$0_react$40$19$2e$1$2e$0_$5f$react$40$19$2e$1$2e$0$2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$rsc$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
            className: "mt-6 grid gap-4 grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4",
            children: flowers.map((f)=>/*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$15$2e$4$2e$6_react$2d$dom$40$19$2e$1$2e$0_react$40$19$2e$1$2e$0_$5f$react$40$19$2e$1$2e$0$2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$rsc$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$components$2f$flowers$2f$flower$2d$card$2e$tsx__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["FlowerCard"], {
                    flower: f,
                    imagesBase: imagesBase,
                    iconsBase: iconsBase
                }, f.id, false, {
                    fileName: "[project]/app/page.tsx",
                    lineNumber: 226,
                    columnNumber: 13
                }, this))
        }, void 0, false, {
            fileName: "[project]/app/page.tsx",
            lineNumber: 224,
            columnNumber: 9
        }, this)
    }, void 0, false, {
        fileName: "[project]/app/page.tsx",
        lineNumber: 220,
        columnNumber: 5
    }, this);
}
}),
"[project]/app/page.tsx [app-rsc] (ecmascript, Next.js Server Component)": ((__turbopack_context__) => {

__turbopack_context__.n(__turbopack_context__.i("[project]/app/page.tsx [app-rsc] (ecmascript)"));
}),
"[externals]/next/dist/shared/lib/no-fallback-error.external.js [external] (next/dist/shared/lib/no-fallback-error.external.js, cjs)": ((__turbopack_context__) => {

var { m: module, e: exports } = __turbopack_context__;
{
const mod = __turbopack_context__.x("next/dist/shared/lib/no-fallback-error.external.js", () => require("next/dist/shared/lib/no-fallback-error.external.js"));

module.exports = mod;
}}),

};

//# sourceMappingURL=%5Broot-of-the-server%5D__00779aa5._.js.map